{"hash":"790d617d69ce632743d90504fda817a3a2681693","data":{"post":{"title":"透過 CSS Animation 製作打字動畫與閃爍游標","date":"February 20, 2020","content":"<p>本文介紹如何透過 CSS 來製作出打字動畫與閃爍游標，這個效果用在專案上可以添增一些亮點，視覺效果還滿不錯的，一起來試試看吧！</p>\n<!-- more -->\n<h2 id=\"動畫效果介紹\"><a href=\"#%E5%8B%95%E7%95%AB%E6%95%88%E6%9E%9C%E4%BB%8B%E7%B4%B9\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>動畫效果介紹</h2>\n<p>實現效果如下 GIF 截圖，主要動畫效果分為兩個部分，一個是打字動畫，即文字會由左至右出現，可調整速度，另一個部分是閃爍游標，就是模擬我們輸入文字時會出現的閃爍直槓。</p>\n<p><img src=\"https://i.imgur.com/vR51PwH.gif\" alt=\"效果 GIF 示範\"></p>\n<h2 id=\"如何實現動畫效果\"><a href=\"#%E5%A6%82%E4%BD%95%E5%AF%A6%E7%8F%BE%E5%8B%95%E7%95%AB%E6%95%88%E6%9E%9C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>如何實現動畫效果</h2>\n<p>這個效果透過 HTML 與 CSS 就可以實作出來。</p>\n<p>HTML 的部分很簡單，只需要一行即可：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">&lt;div class=&quot;typing&quot;&gt;我在冒險的起點等你！&lt;/div&gt;</span></span></code></pre>\n<p>我們主要都是在針對這個 <code>typing</code> 的 Class 去撰寫 CSS 樣式。</p>\n<h3 id=\"打字動畫效果\"><a href=\"#%E6%89%93%E5%AD%97%E5%8B%95%E7%95%AB%E6%95%88%E6%9E%9C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>打字動畫效果</h3>\n<p>我們使用 <code>keyframe</code> 與 <code>animation</code> 來製作動畫。</p>\n<p><code>@keyframes</code> 是在制定動畫的內容，透過關鍵影格選擇器 <code>from</code> 與 <code>to</code>（或者 <code>0%</code> 與 <code>100%</code>）去製作想要完成的效果。</p>\n<p>打字效果其實就是以改變外層容器的寬度來實現的，因此這裡的設定就是針對 <code>width</code> 的調整。\n在範例中我把寬度設定為 <code>10em</code>，因為這剛好是 10 個中文字的寬度。</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">@keyframes typing {\n  from {\n    width: 0;\n  }\n  to {\n    width: 10em;\n  }\n}</span></span></code></pre>\n<p>建立好 <code>@keyframes</code> 裡的動畫內容後，接著在想要呈現動畫內容的 Class 底下加入 <code>animation</code> 屬性。</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">/* animation: name duration timing-function delay iteration-count direction; */\n.typing {\n  animation: typing 3.5s steps(10, end) infinite;\n}</span></span></code></pre>\n<p>基本上就是填入剛才的 <code>@keyframes</code> 名稱，還有動畫作用時間 (<code>animation-duration</code>) 與作用次數 (<code>iteration-count</code>) 等等。\n像這邊我想要讓動畫執行無限次，因此 <code>iteration-count</code> 的值用了 <code>infinite</code>。</p>\n<p>補間動畫 (<code>timing-function</code>) 我是使用 CSS3 animation 的 <code>step()</code> 功能，這算是比較少用到的功能。\n它主要是可以讓動畫變得斷斷續續的，而非順暢地連續執行，不過在這邊使用其實還滿適合的，因為打字時本來就是一個字一個字斷斷續續地出現嘛！</p>\n<blockquote>\n<p>關於 steps 的介紹可參考這篇文章：<a href=\"https://www.zhangxinxu.com/wordpress/2018/06/css3-animation-steps-step-start-end/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">CSS3 animation 屬性中的 steps 功能符深入介紹</a></p>\n</blockquote>\n<h3 id=\"閃爍游標效果\"><a href=\"#%E9%96%83%E7%88%8D%E6%B8%B8%E6%A8%99%E6%95%88%E6%9E%9C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>閃爍游標效果</h3>\n<p>游標的部分，原先我是使用 <code>border</code> 製作，並且用 <code>padding</code> 來推開一些空間，這樣邊框才不會貼著文字。\n然而，這麼做也導致了 <code>overflow: hidden</code> 在幫我卡掉溢出時，會剪裁得不太乾淨，會出現下一個字提前出現一點點的狀況，影響了動畫整體的呈現。</p>\n<p>因此我們可以改成使用 <code>box-shadow</code> 來模擬游標。\n動畫內容一樣是使用 <code>@keyframes</code> 與 <code>animation</code> 來製作。</p>\n<p>最後附上完整的 CSS 程式碼：</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">.typing {\n  width: 10em;\n  white-space: nowrap;\n  border-right: 2px solid transparent;\n  animation: typing 3.5s steps(10, end), blinkCursor 0.75s step-end infinite;\n  overflow: hidden;\n  letter-spacing: 0;\n}\n/* 打字動畫 */\n@keyframes typing {\n  from {\n    width: 0;\n  }\n  to {\n    width: 10em;\n  }\n}\n/* 閃爍游標 */\n@keyframes blinkCursor {\n  from,\n  to {\n    box-shadow: 2px 0 0 0 transparent;\n  }\n  50% {\n    box-shadow: 2px 0 0 0;\n  }\n}</span></span></code></pre>\n<h2 id=\"參考資料\"><a href=\"#%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>參考資料</h2>\n<ol>\n<li><a href=\"https://dotblogs.com.tw/knightzone/2013/09/07/116716\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">#CSS：製作動畫效果－使用 keyframe 與 animation | 新罪楓翼 ☆ 灆洢騎士 - 點部落</a></li>\n</ol>\n<p><em>以上資源是我自己整理過後的筆記，若有錯誤歡迎隨時和我聯繫。</em></p>\n","tags":[{"title":"backend","path":"/tag/backend/"},{"title":"hipster","path":"/tag/hipster/"}]}},"context":{}}